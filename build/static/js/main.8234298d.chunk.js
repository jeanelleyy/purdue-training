(this.webpackJsonpwix=this.webpackJsonpwix||[]).push([[0],{28:function(e,t,a){},29:function(e,t,a){var n={"./blue.jpg":63,"./green.jpg":64,"./red.jpg":65,"./yellow.jpg":66};function s(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=c,e.exports=s,s.id=29},32:function(e,t,a){e.exports=a(76)},37:function(e,t,a){},63:function(e,t,a){e.exports=a.p+"static/media/blue.89643ea9.jpg"},64:function(e,t,a){e.exports=a.p+"static/media/green.e4064255.jpg"},65:function(e,t,a){e.exports=a.p+"static/media/red.e368df29.jpg"},66:function(e,t,a){e.exports=a.p+"static/media/yellow.0fc15a3f.jpg"},67:function(e,t,a){var n={"./Objects.png":68};function s(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=c,e.exports=s,s.id=67},68:function(e,t,a){e.exports=a.p+"static/media/Objects.42714596.png"},70:function(e,t,a){var n={"./B16_1_0.png":71,"./B1_1_2.png":72,"./B2_34_2.png":73,"./B36_7_0.png":74,"./B65_8_1.png":75};function s(e){var t=c(e);return a(t)}function c(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}s.keys=function(){return Object.keys(n)},s.resolve=c,e.exports=s,s.id=70},71:function(e,t,a){e.exports=a.p+"static/media/B16_1_0.15af9236.png"},72:function(e,t,a){e.exports=a.p+"static/media/B1_1_2.60a9a0fc.png"},73:function(e,t,a){e.exports=a.p+"static/media/B2_34_2.0f0244d2.png"},74:function(e,t,a){e.exports=a.p+"static/media/B36_7_0.c59779ea.png"},75:function(e,t,a){e.exports=a.p+"static/media/B65_8_1.67e13e94.png"},76:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),c=a(8),i=a.n(c),r=(a(37),a(4)),o=a.n(r),l=a(9),u=a(1),m=(a(39),a(5)),d=a.n(m),h=(a(28),a(7)),b=a(11),p=a(12),f=a(13),g=a(15),v=a(14),O=function(e){Object(g.a)(a,e);var t=Object(v.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).switchImage=n.switchImage.bind(Object(f.a)(n)),n.state={currentImage:0,seconds:0,imageStatus:"<img src={this.props.images[this.state.currentImage]}/>"},n}return Object(p.a)(a,[{key:"switchImage",value:function(){return 0==this.state.currentImage?this.setState({currentImage:1}):this.setState({currentImage:0}),this.setState({seconds:this.state.seconds+1}),this.state.seconds>7&&clearInterval(this.timer),this.currentImage}},{key:"componentDidMount",value:function(){this.timer=setInterval(this.switchImage,1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"handleImageLoaded",value:function(){this.setState({imageStatus:""})}},{key:"render",value:function(){return s.a.createElement("div",{className:"image_style"},s.a.createElement("img",{src:this.props.images[this.state.currentImage],alt:"Loading image..."}))}}]),a}(s.a.Component),j=a(2);var E=function(e){var t=Object(n.useState)(0),a=Object(u.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(0),o=Object(u.a)(r,2),l=o[0],m=o[1],d=Object(n.useState)(0),h=Object(u.a)(d,2),b=h[0],p=h[1];return s.a.createElement("div",{className:"counting_style"},s.a.createElement("div",{className:"count_div"},s.a.createElement("h1",null,"Fragile: ",c),s.a.createElement("div",{className:"count_btns"},s.a.createElement("button",{onClick:function(){e.mDone?(i(c+1),e.completed(!0),console.log("stop counting"),e.result(Object(j.a)(Object(j.a)({},e.result),{},{choice:"Fragile",count:c+1,duration:Date.now()-e.time}))):alert("Please select number of objects.")}},s.a.createElement("h2",null,"Add")),s.a.createElement("button",{onClick:function(){i(0),e.result(Object(j.a)(Object(j.a)({},e.result),{},{count:0}))}},s.a.createElement("h2",null,"New Bin")))),s.a.createElement("div",{className:"count_div"},s.a.createElement("h1",null,"Normal: ",l),s.a.createElement("div",{className:"count_btns"},s.a.createElement("button",{onClick:function(){e.mDone?(m(l+1),e.completed(!0),console.log("stop counting"),e.result(Object(j.a)(Object(j.a)({},e.result),{},{choice:"Normal",count:l+1,duration:Date.now()-e.time}))):alert("Please select number of objects.")}},s.a.createElement("h2",null,"Add")),s.a.createElement("button",{onClick:function(){m(0),e.result(Object(j.a)(Object(j.a)({},e.result),{},{count:0}))}},s.a.createElement("h2",null,"New Bin")))),s.a.createElement("div",{className:"count_div"},s.a.createElement("h1",null,"Oversize: ",b),s.a.createElement("div",{className:"count_btns"},s.a.createElement("button",{onClick:function(){e.mDone?(p(b+1),e.completed(!0),console.log("stop counting"),e.result(Object(j.a)(Object(j.a)({},e.result),{},{choice:"Oversize",count:b+1,duration:Date.now()-e.time}))):alert("Please select number of objects.")}},s.a.createElement("h2",null,"Add")),s.a.createElement("button",{onClick:function(){p(0),e.result(Object(j.a)(Object(j.a)({},e.result),{},{count:0}))}},s.a.createElement("h2",null,"New Bin")))))},S=a(30),k=(a(62),function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var s;Object(b.a)(this,n),s=t.call(this,e);var c=a(29);return s.addimgs=c.keys().map((function(e){return{path:e,file:c(e)}})),s.state={select:!1,button0:!1,button1:!1,button2:!1,button3:!1,button4:!1,isAddScreen:!1,addImg:"",count:-1,duration:-1},s}return Object(p.a)(n,[{key:"clicked",value:function(e){if(this.props.timerOk){this.setState({select:!0});var t=Date.now()-this.props.time;switch(console.log("stop monitoring"),e){case 0:this.setState({button0:!0}),this.setState({button1:!1}),this.setState({button2:!1}),this.setState({button3:!1}),this.setState({button4:!1}),this.setState({count:0,duration:t});break;case 1:this.setState({button0:!1}),this.setState({button1:!0}),this.setState({button2:!1}),this.setState({button3:!1}),this.setState({button4:!1}),this.setState({count:1,duration:t});break;case 2:this.setState({button0:!1}),this.setState({button1:!1}),this.setState({button2:!0}),this.setState({button3:!1}),this.setState({button4:!1}),this.setState({count:2,duration:t});break;case 3:this.setState({button0:!1}),this.setState({button1:!1}),this.setState({button2:!1}),this.setState({button3:!0}),this.setState({button4:!1}),this.setState({count:3,duration:t});break;case 4:this.setState({button0:!1}),this.setState({button1:!1}),this.setState({button2:!1}),this.setState({button3:!1}),this.setState({button4:!0}),this.setState({count:4,duration:t})}!this.props.addDone&&this.props.addCount.indexOf(this.props.trials)>-1?(this.changeImg(),this.setState({isAddScreen:!0}),this.props.setAddStart(!0)):(this.props.result({count:e,duration:t,wrong:"No Screening"}),console.log("start counting"),this.props.setMTime(Date.now()),this.props.completed(!0))}else alert("Please sort bag into a bin.")}},{key:"isClicked",value:function(e,t){return this.props.weaponCount==e&&!this.state.select&&this.props.highlightOk?"highlightRed":t?"clickedBtn":"unclickedBtn"}},{key:"closePopup",value:function(){this.props.correctAdd==this.state.addImg?(this.setState({isAddScreen:!1}),this.props.setAdd(!0),this.props.result({count:this.state.count,duration:this.state.duration,wrong:"Correct Selection"}),this.props.setMTime(Date.now()),console.log("start counting"),this.props.completed(!0)):(this.setState({isAddScreen:!1}),this.props.setAdd(!0),this.props.result({count:this.state.count,duration:this.state.duration,wrong:"Incorrect Selection: ".concat(this.state.addImg)}),this.props.setMTime(Date.now()),console.log("start counting"),this.props.completed(!0))}},{key:"changeImg",value:function(){for(var e=Math.round(3*Math.random());this.state.addImg==this.addimgs[e].file;)e=Math.round(3*Math.random());this.setState({addImg:this.addimgs[e].file})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"monitoring_style"},s.a.createElement("h2",null,"Select number of objects:"),s.a.createElement("button",{className:this.isClicked(0,this.state.button0),onClick:function(){return e.clicked(0)}},s.a.createElement("h2",null,"0")),s.a.createElement("button",{className:this.isClicked(1,this.state.button1),onClick:function(){return e.clicked(1)}},s.a.createElement("h2",null,"1")),s.a.createElement("button",{className:this.isClicked(2,this.state.button2),onClick:function(){return e.clicked(2)}},s.a.createElement("h2",null,"2")),s.a.createElement("button",{className:this.isClicked(3,this.state.button3),onClick:function(){return e.clicked(3)}},s.a.createElement("h2",null,"3")),s.a.createElement("button",{className:this.isClicked(4,this.state.button4),onClick:function(){return e.clicked(4)}},s.a.createElement("h2",null,"4")),s.a.createElement(S.a,{open:this.state.isAddScreen,closeOnDocumentClick:!1,modal:!0},s.a.createElement("div",{className:"modal add-popup"},s.a.createElement("h2",null,"Please do additional screening on this baggage."),s.a.createElement("div",null,s.a.createElement("div",{className:"add-content"},s.a.createElement("div",{className:"add-img-div"},s.a.createElement("img",{src:this.state.addImg})),s.a.createElement("div",{className:"add-btn-div"},s.a.createElement("button",{className:"next_btn",onClick:this.changeImg.bind(this)},s.a.createElement("h2",null,"Next")),s.a.createElement("button",{className:"finish_btn",onClick:this.closePopup.bind(this)},s.a.createElement("h2",null,"Finish"))))))))}}]),n}(s.a.Component));var y=function(e){var t=Object(n.useState)("15"),a=Object(u.a)(t,2),c=a[0],i=a[1],r=Object(n.useState)(!0),o=Object(u.a)(r,2),l=o[0],m=(o[1],Object(n.useState)(!0)),d=Object(u.a)(m,2),h=d[0],b=d[1];return Object(n.useEffect)((function(){var t=null;return l&&c>0&&(t=setInterval((function(){h&&i((function(e){return e-1}))}),1e3)),e.addStart&&!e.addDone?b(!1):l&&0==c&&i("Please sort bag into a bin."),function(){clearInterval(t)}}),[l,h,c]),Object(n.useEffect)((function(){e.addDone&&b(!0)}),[e.addDone]),s.a.createElement("div",{className:"app"},s.a.createElement("div",{className:"timer"},s.a.createElement("h1",null,c)))},w=function(e,t,a,n,s,c,i){return{Level:e,Action:"Monitoring",Trial:t,"On Time":n,"Duration (ms)":a,"Image Path":s,"Weapon Choice":c.toString(),"Wrong Selection":i}};var N=function(e){var t=Math.round(2*Math.random()),a=Object(n.useState)(!1),c=Object(u.a)(a,2),i=c[0],r=c[1],o=Object(n.useState)(!1),l=Object(u.a)(o,2),m=l[0],d=l[1],b=Object(n.useState)(!1),p=Object(u.a)(b,2),f=p[0],g=p[1],v=Object(n.useState)(!1),j=Object(u.a)(v,2),S=j[0],N=j[1],D=Object(n.useState)(!0),C=Object(u.a)(D,2),_=C[0],I=C[1],M=Object(n.useState)(e.images),x=Object(u.a)(M,2),T=x[0],B=x[1],A=Object(n.useState)([]),P=Object(u.a)(A,2),F=P[0],L=P[1],U=Object(n.useState)(""),z=Object(u.a)(U,2),R=z[0],V=z[1],W=Object(n.useState)(0),J=Object(u.a)(W,2),Q=J[0],Y=J[1],q=Object(n.useState)([]),H=Object(u.a)(q,2),K=H[0],$=H[1],G=Object(n.useState)(0),X=Object(u.a)(G,2),Z=X[0],ee=X[1],te=Object(n.useState)(["Fragile","Normal","Oversize"][t]),ae=Object(u.a)(te,2),ne=ae[0],se=ae[1],ce=Object(n.useState)({}),ie=Object(u.a)(ce,2),re=ie[0],oe=ie[1],le=Object(n.useState)({}),ue=Object(u.a)(le,2),me=ue[0],de=ue[1],he=Object(n.useState)(Date.now()),be=Object(u.a)(he,2),pe=be[0],fe=be[1],ge=Object(n.useState)(Date.now()),ve=Object(u.a)(ge,2),Oe=ve[0],je=ve[1];return Object(n.useEffect)((function(){console.log("timer stat changed",_)}),[_]),Object(n.useEffect)((function(){if(i&&S){if(0==e.trials){var a=w(e.levelType,"The image pattern for the following level is:",e.startData.pattern,"","","",""),n=w(e.levelType,e.trials+1,re.duration,re.duration<15e3,e.images[e.trials].file,re.count>=0?re.count:-1,re.wrong);e.setMData([].concat(Object(h.a)(e.mdata),[a,n]))}else if(_||re>=0){var s=w(e.levelType,e.trials+1,re.duration,re.duration<15e3,e.images[e.trials].file,re.count>=0?re.count:-1,re.wrong);e.setMData([].concat(Object(h.a)(e.mdata),[s]))}else{var c=w(e.levelType,e.trials+1,15e3,!1,e.images[e.trials].file,-1,"No Screening");e.setMData([].concat(Object(h.a)(e.mdata),[c]))}var o=me.choice,l=(u=e.levelType,m=e.trials+1,b=me.duration,p=e.images[e.trials].file,f=me.choice,v=ne,O=me.count,j=e.startData[o],{Level:u,Action:"Counting",Trial:m,"Duration (ms)":b,"Image Path":p,"Bin Choice":f,"Correct Bin":v,"Bin Count":O,"Bin Capacity":j});e.setCData([].concat(Object(h.a)(e.cdata),[l])),r(!1),g(!1),d(!1),N(!1),I(!0),ee(Z+2),e.setTrials(e.trials+1),e.trials<5&&function(){for(var e=["Fragile","Normal","Oversize"],a=Math.round(2*Math.random());ne==e[a];)a=Math.round(2*Math.random());se(e[t])}()}var u,m,b,p,f,v,O,j}),[i,S]),Object(n.useEffect)((function(){if(fe(Date.now()),console.log("trial #: ",e.trials),0==e.trials){for(var t=[],a=0;a<1;a++){for(var n=Math.round(4*Math.random());t.indexOf(n)>-1;)n=Math.round(4*Math.random());t.push(n)}console.log("got new nums for this level",t,e.levelType),$(t)}if(5==e.trials)e.nextLevel(!0);else if(3==e.levelType||92==e.levelType){for(var s=Math.round(Math.random()*(T.length-1));!T[s].isValid;)s=Math.round(Math.random()*(T.length-1));var c=T[s].file;for(a=0;a<T.length;a++)if(parseInt(T[a].id)==parseInt(T[s].id)&&a!=s){var i=T[a].file,r=T.slice();r[s].isValid=!1,r[a].isValid=!1,B(r),console.log("selected:",c,i),T[a].path.length>T[s].path.length?L([i,c]):L([c,i]),Y(T[a].weapons);break}}else if(1==e.levelType||91==e.levelType){var o=T;console.log("imgSet:",o);for(s=Math.round(Math.random()*(T.length-1));!T[s].isValid;)s=Math.round(Math.random()*(T.length-1));var l=o[s].file,u=T.slice();u[s].isValid=!1,B(u),console.log("selected:",l),V(l),Y(T[s].weapons)}}),[e.trials]),Object(n.useEffect)((function(){console.log("levelImgSet: ",T)}),[T]),s.a.createElement("div",{className:"task_style"},s.a.createElement("div",{className:"img_side"},s.a.createElement(y,{key:e.trials,addDone:f,addStart:m,setTimerOk:I,setmdone:r,mdone:i}),1==e.levelType||91==e.levelType?s.a.createElement(O,{key:Z+1,images:[R,R]}):s.a.createElement(O,{key:Z+1,images:F}),s.a.createElement("h2",{className:"bag_style"},ne)),s.a.createElement(k,{key:e.trials,weaponCount:Q,highlightOk:91==e.levelType||92==e.levelType,completed:r,result:oe,time:pe,setMTime:je,trials:e.trials,correctAdd:e.startData.pattern,addDone:f,setAdd:g,setAddStart:d,timerOk:_,addCount:K}),s.a.createElement("div",{className:"divider"}),s.a.createElement(E,{key:"L"+e.levelType,mDone:i,completed:N,result:de,time:Oe}))};var D=function(e){for(var t=Object(n.useState)(1),c=Object(u.a)(t,2),i=c[0],r=c[1],o=a(67),l=o.keys().map((function(e){return{path:e,file:o(e)}})),m=a(29),d=m.keys().map((function(e){return{path:e,file:m(e)}}))[Math.round(3*Math.random())].file,h=[0,0,0],b=0;b<h.length;b++){var p=Math.round(3*Math.random()+2);h[b]=p}var f={pattern:d,Fragile:h[0],Normal:h[1],Oversize:h[2]},g=Object(n.useState)(f),v=Object(u.a)(g,2),O=v[0];function E(){if(1==i&&0==e.levelIndex){var t=function(){var e=prompt("Enter user ID here:","");if(null!=e&&""!=e)return e}();e.setUser(t)}r(i+1),i>=3&&(alert("Have you remembered the number pattern?"),e.setStart(Object(j.a)({},O)),e.setTransition(!0))}return v[1],s.a.createElement("div",null,1==i?0==e.levelIndex?s.a.createElement("div",{className:"transition-style"},s.a.createElement("div",null,s.a.createElement("img",{src:l[0].file})),s.a.createElement("div",null,s.a.createElement("h1",null,"You will participate in a task where you will determine if a baggage is safe by viewing an x-ray image of said baggage."),s.a.createElement("button",{onClick:E},s.a.createElement("h2",null,"Enter User ID")))):s.a.createElement("div",{className:"survey-style"},s.a.createElement("h1",null,"STOP! You will complete a short survey in Qualtrics."),s.a.createElement("button",{onClick:E},s.a.createElement("h2",null,"I have completed the survey."))):2==i?s.a.createElement("div",{className:"transition-style addimg-transition"},s.a.createElement("div",null,s.a.createElement("img",{src:O.pattern})),s.a.createElement("div",null,s.a.createElement("h1",null,"Some bags require additional screening. This image must be correctly identified to proceed."),s.a.createElement("button",{onClick:E},s.a.createElement("h2",null,"Continue")))):s.a.createElement("div",{className:"transition-style"},s.a.createElement("div",null,s.a.createElement("img",{src:l[0].file})),s.a.createElement("div",null,s.a.createElement("h1",null,"Fragile: ",O.Fragile," bags"),s.a.createElement("h1",null,"Normal: ",O.Normal," bags"),s.a.createElement("h1",null,"Oversize: ",O.Oversize," bags"),s.a.createElement("button",{onClick:E},s.a.createElement("h2",null,"Continue")))))};a(31);var C=function(e){return s.a.createElement("div",null,s.a.createElement("center",null,s.a.createElement("h2",null,"Something went wrong. Please contact your proctor.")))};a(77);var _=function(){var e=a(70),t=e.keys().map((function(t){var a=t.indexOf("_"),n=t.lastIndexOf("_");return{path:t,file:e(t),id:t.substring(3,a),weapons:t.substring(n+1,n+2),isValid:!0}})),c=Object(n.useState)({}),i=Object(u.a)(c,2),r=i[0],m=i[1],h=Object(n.useState)([]),b=Object(u.a)(h,2),p=b[0],f=b[1],g=Object(n.useState)([]),v=Object(u.a)(g,2),O=v[0],j=v[1],E=Object(n.useState)(!1),S=Object(u.a)(E,2),k=S[0],y=S[1],w=Object(n.useState)(0),_=Object(u.a)(w,2),I=_[0],M=_[1],x=Object(n.useState)(0),T=Object(u.a)(x,2),B=T[0],A=T[1],P=Object(n.useState)(!1),F=Object(u.a)(P,2),L=F[0],U=F[1],z=Object(n.useState)("user"),R=Object(u.a)(z,2),V=R[0],W=R[1],J=Object(n.useState)(!1),Q=Object(u.a)(J,2),Y=Q[0],q=Q[1],H=Object(n.useState)("OK"),K=Object(u.a)(H,2),$=K[0],G=K[1],X=[1],Z=[t];function ee(){return(ee=Object(l.a)(o.a.mark((function e(t){var a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("calling sendData"),a={user_id:V+"_training",rows:t},console.log(a),e.prev=3,e.next=6,d.a.post("https://wix-server.herokuapp.com/",a).then((function(e){console.log(e),console.log(e.data)}));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),G("ERROR");case 11:q(!1);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function te(){return"ERROR"==$?s.a.createElement(C,null):I<=0?L?s.a.createElement(N,{mdata:p,setMData:f,cdata:O,setCData:j,images:Z[I],trials:B,setTrials:A,nextLevel:y,levelType:X[I],startData:r}):s.a.createElement(D,{setUser:W,levelIndex:I,startData:r,setStart:m,setTransition:U}):(Y||q(!0),s.a.createElement("div",{className:"survey-style"},s.a.createElement("h1",null,"Please proceed to Qualtrics to complete the experiment.")))}return Object(n.useEffect)((function(){window.addEventListener("beforeunload",(function(e){e.preventDefault(),e.returnValue="Are you sure you want to leave the experiment?",q(!0)}))})),Object(n.useEffect)((function(){1==k&&(M(I+1),A(0),y(!1),U(!1))}),[k]),Object(n.useEffect)((function(){L&&te()}),[L]),Object(n.useEffect)((function(){console.log("updating display"),console.log($),te()}),[$]),Object(n.useEffect)((function(){!function(e){ee.apply(this,arguments)}(p.concat(O))}),[Y]),s.a.createElement("div",null,te())};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[32,1,2]]]);
//# sourceMappingURL=main.8234298d.chunk.js.map